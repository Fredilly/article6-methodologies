# RC-20251222-041205 â€” ingest-batch workflow invalid YAML due to unquoted ':' in description
- Date: 2025-12-22

## Symptom
The workflow file `.github/workflows/ingest-batch.yml` was not valid YAML at commit `814499f`.

Repro (YAML parse error):

```
tmpdir="$(mktemp -d)" && git worktree add "$tmpdir" 814499f --detach
(cd "$tmpdir" && ruby -ryaml -e 'YAML.load_file(".github/workflows/ingest-batch.yml")')
```

Observed error:

```
(.github/workflows/ingest-batch.yml): mapping values are not allowed in this context at line 10 column 39 (Psych::SyntaxError)
```

## Root cause
`814499f` introduced a `workflow_dispatch` input description containing an unquoted `:` followed by a space:

`description: Optional override: Agriculture|Forestry (only used with codes_file)`

This is invalid in YAML plain scalars and triggers a parse error.

## Fix
`b940955` fixed the workflow YAML by quoting the description string:

`description: "Optional override: Agriculture|Forestry (only used with codes_file)"`

## Proof / tests
- Current `main` parses as YAML: `ruby -ryaml -e 'YAML.load_file(".github/workflows/ingest-batch.yml")'`.

## Follow-ups
- [ ] Add a CI gate to parse all `.github/workflows/*.yml` as YAML to prevent syntax regressions.
